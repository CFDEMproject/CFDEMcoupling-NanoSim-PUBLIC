<HTML>
<CENTER><A HREF = "http://www.cfdem.com">CFDEMproject WWW Site</A> - <A HREF = "CFDEMcoupling_Manual.html#comm">CFDEM Commands</A> 
</CENTER>




<HR>

<H3>forceModel_volWeightedAverage command 
</H3>
<P><B>Syntax:</B>
</P>
<P>Defined in couplingProperties dictionary.
</P>
<PRE>forceModels
(
    volWeightedAverage
);
volWeightedAverageProps
{
    startTime time;
    scalarFieldNames
    (
        scalarField
    );
    vectorFieldNames
    (
        vectorField
    );
    upperThreshold scalar1;
    lowerThreshold scalar2;
    useVolumeFraction switch0;
    volumeFractionName word1;
    verbose ;
    writeToFile switch1;
}; 
</PRE>
<UL><LI><I>time</I> = (optional, default 0.) time to start the averaging 

<LI><I>scalarField</I> = names of the finite volume scalar fields to be temporally averaged 

<LI><I>vectorField</I> = names of the finite volume vector fields to be temporally averaged 

<LI><I>scalar1</I> = only cells with a field value (magnitude) lower than this upper threshold are considered 

<LI><I>scalar2</I> = only cells with a field value (magnitude) greater than this lower threshold are considered 

<LI><I>switch0</I> = (optional, default false) consider a volume fraction for the calculation 

<LI><I>word1</I> = (optional, default "voidfraction") name of the volume fraction, only used if useVolumeFraction is true 

<LI><I>verbose</I> = (optional, default false) keyword only (mostly used for debugging) 

<LI><I>switch1</I> = (optional, default false) switch for the output. 


</UL>
<P><B>Examples:</B>
</P>
<PRE>forceModels
(
    volWeightedAverage
);
volWeightedAverageProps
{
    startTime 0.1;
    scalarFieldNames
    (
        voidfraction
    );
    vectorFieldNames
    (
    );
    upperThreshold 0.999;
    lowerThreshold 0;
} 
</PRE>
<P><B>Description:</B>
</P>
<P>This "forceModel" does not influence the particles or the simulation - it is a postprocessing tool! Starting at start time 
the volume weighted averages of those cells of the fields within the threshold are calculated.
At "writeTime" a field named volAverage_field , where scalarField is the name of the original field, is written. This can then be probed using standard function object probes.
</P>
<P><B>Restrictions:</B>
</P>
<P>Currently all fields have the same threshold value!
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "forceModel.html">forceModel</A>
</P>
</HTML>
